// support '//' comments
// use 'null' for None

{
  "name":"debug_000_exp_name"  // 'debug' denotes dubeg mode
  ,"model":"sr"                // "sr" | "srgan"
  ,"gpu_ids": [0]              // please use `export CUDA_VISIBLE_DEVICES=0` in termimal
  // auto generated
  ,"timestamp": "180420-024233"
  ,"is_train": true

//########################################
//# datasets
//########################################
  ,"datasets": [{ // training dataset
    "name": "ImageNet"
    ,"data_type": "img" // "img" | "bin"
    ,"mode": "LRHRref"
    ,"phase": "train"   // "train" | "val" | "test"
    ,"dataroot_HR": "/mnt/SSD/xtwang/ImageNet_train"
    ,"dataroot_LR": null
    ,"subset_file": "/mnt/SSD/xtwang/BasicSR_datasets/ImageNet_list.txt"
    ,"dataroot_ref": null

    ,"use_shuffle": true
    ,"n_workers": 8
    ,"batch_size": 16
    ,"HR_size": 128
    ,"scale": 4
    ,"use_flip": true    // horizontal flip
    ,"use_rot": true
    ,"reverse": false     // reverse LR and HR
  }, { // validation dataset
    "name": "val"
    ,"data_type": "img"
    ,"mode": "LRHRref"
    ,"phase": "val"
    ,"dataroot_HR": "/mnt/SSD/xtwang/BasicSR_datasets/val"
    ,"dataroot_LR": "/mnt/SSD/xtwang/BasicSR_datasets/val_bicLR"
    ,"scale": 4
    ,"metric_mode": "rgb" // "rgb" | "y", calculate psnr and ssim in y or color channels
    ,"reverse": false     // reverse LR and HR
  }]

//########################################
//# path
//########################################
  ,"path": {
    "root": "/home/xtwang/Projects/BasicSR"
    ,"pretrain_model_G": null
    ,"pretrain_model_D": null
    // auto generated
    ,"experiments_root": "/home/xtwang/Projects/BasicSR/experiments/exp_name"
    ,"options": "/home/xtwang/Projects/BasicSR/experiments/exp_name"
    ,"models": "/home/xtwang/Projects/BasicSR/experiments/exp_name/models"
    ,"log": "/home/xtwang/Projects/BasicSR/experiments/exp_name"
    ,"val_images": "/home/xtwang/Projects/BasicSR/experiments/exp_name/val_images"
  }

//########################################
//# define networks
//########################################
  ,"network_G": {
    "which_model_G": "sr_resnet_torch"
    ,"norm_type": null // "batch" | "instance" | null
    ,"mode": "NAC"     // "NAC" | "CNA"
    ,"scale": 4
    ,"nf": 64
    ,"nb": 16
    ,"in_nc": 3
    ,"out_nc": 3
    ,"group": 1
  }
  ,"network_D": {
    "which_model_D": "discriminaotr_vgg_128"
    ,"norm_type": "batch"
    ,"act_type": "leakyrelu"
    ,"mode": "CNA"
    ,"nf": 64
    ,"in_nc": 3
    ,"out_nc": 3
  }
//########################################
//# training
//########################################
  ,"train": {
    "lr_G": 1e-4
    ,"weight_decay_G": 0
    ,"beta1_G": 0.5
    ,"lr_D": 1e-4
    ,"weight_decay_D": 0
    ,"beta1_D": 0.5
    ,"lr_scheme": "MultiStepLR"
    ,"lr_steps": [50000, 100000, 200000, 300000]
    ,"lr_gamma": 0.5

    ,"pixel_criterion": "l1"
    ,"pixel_weight": 0
    ,"feature_criterion": "l1"
    ,"feature_weight": 1
    ,"gan_type": "vanilla" // "vanilla" | "lsgan" | "wgan-gp"
    ,"gan_weight": 1e-2

    //for wgan-gp
    ,"D_update_ratio": 5
    ,"D_init_iters": 50
    ,"gp_weigth": 10

    ,"manual_seed": 0
    ,"niter": 1e6
    ,"val_freq": 5e3
  }

  ,"logger": {
    "print_freq": 200
    ,"save_checkpoint_freq": 5e3
  }
}
